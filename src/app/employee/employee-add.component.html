<!-- src/app/employee/employee-add.component.html -->
<div class="container mt-4">
  <h2>Add Employee</h2>

  <form (ngSubmit)="onSubmit()" #employeeForm="ngForm">
    <!-- Employee ID -->
    <div class="mb-3">
      <label class="form-label">Employee ID</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="employee.EmployeeID"
        name="EmployeeID"
        disabled
        placeholder="Auto-generated Employee ID"
        title="Employee ID (auto-generated)"
      />
    </div>

    <!-- Account -->
    <div class="mb-3">
      <label class="form-label">Account</label>
      <select
        class="form-select"
        [(ngModel)]="employee.accountId"
        name="accountId"
        required
        title="Account"
      >
        <option [ngValue]="undefined" disabled>----Select account----</option>

        <!-- when there are no available accounts, show a disabled info option -->
        <option *ngIf="accounts.length === 0" [ngValue]="undefined" disabled>
          No available accounts
        </option>

        <option *ngFor="let acc of accounts" [ngValue]="acc.id">
          {{ acc.firstName }} {{ acc.lastName }} ({{ acc.email }})
        </option>
      </select>
    </div>

    <!-- Position -->
    <div class="mb-3">
      <label class="form-label">Position</label>
      <select
        class="form-select"
        [(ngModel)]="employee.position"
        name="position"
        required
        title="Position"
      >
        <option value="" disabled>----Select position----</option>
        <option value="Intern / Trainee">Intern / Trainee</option>
        <option value="Assistant / Junior">Assistant / Junior</option>
        <option value="Staff / Associate">Staff / Associate</option>
        <option value="Specialist / Senior">Specialist / Senior</option>
        <option value="Supervisor / Team Lead">Supervisor / Team Lead</option>
        <option value="Manager">Manager</option>
        <option value="Senior Manager / Department Head">Senior Manager / Department Head</option>
        <option value="Director">Director</option>
        <option value="Vice President / Executive Director">Vice President / Executive Director</option>
        <option value="President / C-level">President / C-level</option>
      </select>
    </div>

    <!-- Department -->
    <div class="mb-3">
      <label class="form-label">Department</label>
      <select
        class="form-select"
        [(ngModel)]="employee.departmentId"
        name="departmentId"
        required
        title="Department"
      >
        <option [ngValue]="undefined" disabled>----Select department----</option>
        <option *ngFor="let dept of departments" [ngValue]="dept.id">
          {{ dept.name }}
        </option>
      </select>
    </div>

    <!-- Hire Date -->
    <div class="mb-3">
      <label class="form-label">Hire Date</label>
      <input
        type="date"
        class="form-control"
        [(ngModel)]="employee.hireDate"
        name="hireDate"
        required
        title="Hire Date"
        placeholder="Select hire date"
      />
    </div>

    <!-- Status -->
    <div class="mb-3">
      <label class="form-label">Status</label>
      <select
        class="form-select"
        [(ngModel)]="employee.status"
        name="status"
        required
        title="Status"
      >
        <option value="active">Active</option>
        <option value="inactive">Inactive</option>
      </select>
    </div>

    <!-- Error -->
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>

    <!-- Buttons -->
    <div class="text-center">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="loading || !employeeForm.form.valid"
      >
        {{ loading ? 'Saving...' : 'Save' }}
      </button>
      <button type="button" class="btn btn-secondary ms-2" (click)="cancel()">
        Cancel
      </button>
    </div>
  </form>
</div>
